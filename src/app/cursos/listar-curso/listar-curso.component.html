<div class="curso-container">
  <div class="table-controls">
    <h2>Listado de Cursos</h2>
    <button class="toggle-btn" (click)="toggleTabla()">
      {{ tablaContraida ? 'Mostrar Tabla' : 'Ocultar Tabla' }}
    </button>
  </div>

  <div class="table-wrapper" *ngIf="!tablaContraida">
    <table class="curso-table">
      <!-- Cabecera de la tabla -->
      <thead>
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Fecha Creación</th>
          <th>Horario</th>
          <th>ID Docente</th>
          <th>Acciones</th>
        </tr>
      </thead>
      
      <!-- Cuerpo de la tabla -->
      <tbody>
        <tr *ngFor="let curso of cursosPagina">
          <td>{{ curso.id }}</td>
          <td>{{ curso.nombre }}</td>
          <td>{{ curso.fechaCreacion | date:'dd/MM/yyyy' }}</td>
          <td>{{ curso.horario }}</td>
          <td>{{ curso.idDocente }}</td>
          <td class="actions">
            <button class="action-btn view" title="Ver detalles" (click)="verCurso(curso.id)">👁️</button>
            <button class="action-btn edit" title="Editar" (click)="editarCurso(curso.id)">✏️</button>
            <button class="action-btn delete" title="Eliminar" (click)="eliminarCurso(curso.id)">🗑️</button>
          </td>
        </tr>
        <tr *ngIf="cursosPagina.length === 0">
          <td colspan="6" class="no-results">No se encontraron cursos</td>
        </tr>
      </tbody>
    </table>

    <!-- Controles de paginación mejorados -->
    <div class="pagination-controls" *ngIf="totalPaginas > 1">
      <!-- Primera página -->
      <button class="pagination-btn" 
              (click)="irAPagina(0)" 
              [disabled]="paginaActual === 0"
              title="Primera página">
        ««
      </button>
      
      <!-- Página anterior -->
      <button class="pagination-btn" 
              (click)="paginaAnterior()" 
              [disabled]="paginaActual === 0"
              title="Página anterior">
        ‹
      </button>
      
      <!-- Páginas numeradas -->
      <ng-container *ngFor="let pagina of paginasVisibles">
        <button class="pagination-btn" 
                [class.active]="pagina === paginaActual" 
                (click)="irAPagina(pagina)"
                title="Ir a página {{ pagina + 1 }}">
          {{ pagina + 1 }}
        </button>
      </ng-container>
      
      <!-- Página siguiente -->
      <button class="pagination-btn" 
              (click)="paginaSiguiente()" 
              [disabled]="paginaActual === totalPaginas - 1"
              title="Página siguiente">
        ›
      </button>
      
      <!-- Última página -->
      <button class="pagination-btn" 
              (click)="irAPagina(totalPaginas - 1)" 
              [disabled]="paginaActual === totalPaginas - 1"
              title="Última página">
        »»
      </button>
      
      <!-- Información de paginación -->
      <span class="page-info">
        Mostrando {{ (paginaActual * itemsPorPagina) + 1 }}-{{ 
          Math.min((paginaActual + 1) * itemsPorPagina, totalElementos) 
        }} de {{ totalElementos }} cursos
      </span>
    </div>
  </div>
</div>